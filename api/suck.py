"""
Vercel Serverless Function: –ü–æ—Å–æ—Å–∏
–£–õ–£–ß–®–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø —Å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º —Å—Ç–∏–ª–µ–π
"""
from http.server import BaseHTTPRequestHandler
import json
import os
import random

AI_GATEWAY_URL = "https://ai-gateway.vercel.sh/v1/messages"

# –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
STYLES = [
    {
        "name": "–ö–õ–ê–°–°–ò–ö–ê",
        "pattern": "üç≠ {name}, –ø–æ—Å–æ—Å–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. {content} –° —É–≤–∞–∂–µ–Ω–∏–µ–º, {signature}.",
        "content_style": "–∞–±—Å—É—Ä–¥–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø–æ—á–µ–º—É –≤–µ—Å—å –º–∏—Ä –∂–¥—ë—Ç",
        "signatures": ["–æ—á–µ—Ä–µ–¥—å –≤ –ü—è—Ç—ë—Ä–æ—á–∫–µ", "–º–∞—Ä—à—Ä—É—Ç–∫–∞ 47", "—Ç–≤–æ—è –∏–ø–æ—Ç–µ–∫–∞", "—É—á–∞—Å—Ç–∫–æ–≤—ã–π –ü–µ—Ç—Ä–æ–≤–∏—á", "–±–∞–±–∫–∏ —É –ø–æ–¥—ä–µ–∑–¥–∞", "–∫–æ—Ç –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–±—è –Ω–µ —É–≤–∞–∂–∞–µ—Ç"]
    },
    {
        "name": "–§–ò–õ–û–°–û–§–ò–Ø",
        "pattern": "üç≠ {name}, –ø–æ—Å–æ—Å–∞—Ç—å ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ. {content} –°–æ—Å–∏, –∏ –æ–±—Ä–µ—Ç—ë—à—å –¥–∑–µ–Ω. üßò",
        "content_style": "–≥–ª—É–±–æ–∫–æ–º—ã—Å–ª–µ–Ω–Ω–∞—è —Ö—É–π–Ω—è –ø—Ä–æ —Å–º—ã—Å–ª —Å–æ—Å–∞–Ω–∏—è",
        "signatures": []
    },
    {
        "name": "–ù–ê–£–ß–ù–´–ô",
        "pattern": "üç≠ –í–ù–ò–ú–ê–ù–ò–ï! –£—á—ë–Ω—ã–µ –¥–æ–∫–∞–∑–∞–ª–∏: {name} –¥–æ–ª–∂–µ–Ω –ø–æ—Å–æ—Å–∞—Ç—å. {content} –ë—Ä–∏—Ç–∞–Ω—Å–∫–∏–µ —É—á—ë–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç. üî¨",
        "content_style": "–ø—Å–µ–≤–¥–æ–Ω–∞—É—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ —Å–æ—Å–∞–Ω–∏–∏",
        "signatures": []
    },
    {
        "name": "–ù–û–í–û–°–¢–ò",
        "pattern": "üç≠ –°–†–û–ß–ù–´–ï –ù–û–í–û–°–¢–ò! {name} –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ –ø–æ—Å–æ—Å–∞–ª. {content} –°–ª–µ–¥–∏–º –∑–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ–º —Å–æ–±—ã—Ç–∏–π. üì∫",
        "content_style": "–∫–∞–∫ —Ä–µ–ø–æ—Ä—Ç–∞–∂ –æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–µ —á—Ç–æ –∫—Ç–æ-—Ç–æ –Ω–µ —Å–æ—Å—ë—Ç",
        "signatures": []
    },
    {
        "name": "–ó–ê–ì–û–í–û–†",
        "pattern": "üç≠ {name}, –∫–∞—Ä—Ç—ã —Å–æ—à–ª–∏—Å—å. –ó–≤—ë–∑–¥—ã –≤—ã—Å—Ç—Ä–æ–∏–ª–∏—Å—å. –¢–∞—Ä–∞–∫–∞–Ω—ã –Ω–∞ –∫—É—Ö–Ω–µ –∑–∞–º–µ—Ä–ª–∏. {content} –°–æ—Å–∏, –±–ª—è—Ç—å, —Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –∂–¥–∞—Ç—å. üîÆ",
        "content_style": "–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–∫–∏ —á—Ç–æ –ø–æ—Ä–∞ —Å–æ—Å–∞—Ç—å",
        "signatures": []
    },
    {
        "name": "–£–ì–†–û–ó–ê",
        "pattern": "üç≠ {name}. –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—å–±–∞. {content} –°–æ—Å–∏ –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ –∏–ª–∏ –º—ã –Ω–∞–π–¥—ë–º —Å–ø–æ—Å–æ–±. üíÄ",
        "content_style": "—É–≥—Ä–æ–∂–∞—é—â–∏–µ –Ω–æ –∞–±—Å—É—Ä–¥–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –æ—Ç–∫–∞–∑–∞",
        "signatures": []
    },
    {
        "name": "–†–û–ú–ê–ù–¢–ò–ö–ê",
        "pattern": "üç≠ {name}... *–≤–∑–¥—ã—Ö–∞–µ—Ç* –ï—Å–ª–∏ –±—ã —Ç—ã —Ç–æ–ª—å–∫–æ –∑–Ω–∞–ª(–∞), –∫–∞–∫ –º–∏—Ä —Ö–æ—á–µ—Ç —á—Ç–æ–±—ã —Ç—ã –ø–æ—Å–æ—Å–∞–ª(–∞). {content} –° –ª—é–±–æ–≤—å—é –∏ –Ω–µ–Ω–∞–≤–∏—Å—Ç—å—é, –¢—ë—Ç—è –†–æ–∑–∞. üíî",
        "content_style": "—Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ-–∏–∑–¥–µ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ç–∏–ª—å",
        "signatures": []
    }
]

# –ö–æ–Ω—Ç–µ–Ω—Ç-–ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
CONTENT_EXAMPLES = {
    "–ö–õ–ê–°–°–ò–ö–ê": [
        "–í—Å–µ–ª–µ–Ω–Ω–∞—è –∑–∞–º–µ—Ä–ª–∞ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏. –¢–≤–æ—è –º–∞–º–∞ –∂–¥—ë—Ç, –ø–∞–ø–∞ –∂–¥—ë—Ç, —Å–æ—Å–µ–¥ —Å –ø–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä–æ–º –∏ —Ç–æ—Ç –ø—Ä–∏—Ç–∏—Ö. –î–∞–∂–µ –ü—É—Ç–∏–Ω –æ—Ç–ª–æ–∂–∏–ª —Å–æ–≤–µ—â–∞–Ω–∏–µ.",
        "–ë–∞–±–∫–∏ —É –ø–æ–¥—ä–µ–∑–¥–∞ —Å–æ–±—Ä–∞–ª–∏ –∫–æ–Ω—Å–∏–ª–∏—É–º ‚Äî –µ–¥–∏–Ω–æ–≥–ª–∞—Å–Ω–æ —Ä–µ—à–∏–ª–∏ —á—Ç–æ –ø–æ—Ä–∞. –ü–æ—á—Ç–∞–ª—å–æ–Ω 15 –ª–µ—Ç –Ω–æ—Å–∏—Ç –ø–æ–≤–µ—Å—Ç–∫—É –Ω–∞ —Å–æ—Å–∞–Ω–∏–µ.",
        "–ù–æ—Å—Ç—Ä–∞–¥–∞–º—É—Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–ª —ç—Ç–æ –≤ 1555. –ö–æ—Ç –Ω–µ –∂—Ä—ë—Ç —Ç—Ä–µ—Ç–∏–π –¥–µ–Ω—å ‚Äî –∂–¥—ë—Ç. –¢–∞—Ä–∞–∫–∞–Ω—ã —Å–º–æ—Ç—Ä—è—Ç —Å —É–∫–æ—Ä–æ–º. –ö—Ä–µ–¥–∏—Ç –≤ –°–±–µ—Ä–µ –ø—Ä–∏—Ç–∏—Ö.",
        "–ó–≤—ë–∑–¥—ã —Ç–∞–∫ –≤—Å—Ç–∞–ª–∏. –ú–µ—Ä–∫—É—Ä–∏–π —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω—ã–π. –û—á–µ—Ä–µ–¥—å –≤ –ú–§–¶ –∂–¥—ë—Ç. –î–∞–∂–µ –¥–æ–ª–≥ –ø–æ –ñ–ö–• –ø—Ä–∏—Ç–∏—Ö –≤ –æ–∂–∏–¥–∞–Ω–∏–∏.",
        "–õ–µ–Ω–∏–Ω –≤ –º–∞–≤–∑–æ–ª–µ–µ –ø—Ä–∏–æ—Ç–∫—Ä—ã–ª –≥–ª–∞–∑. –ü–∞–º—è—Ç–Ω–∏–∫ –Ω–∞ –ø–ª–æ—â–∞–¥–∏ –ø–æ–≤–µ—Ä–Ω—É–ª—Å—è. WiFi –º–∏–≥–∞–µ—Ç –∞–∑–±—É–∫–æ–π –ú–æ—Ä–∑–µ ‚Äî —Å–æ—Å–∏.",
        "–î–∏–Ω–æ–∑–∞–≤—Ä—ã –≤—ã–º–µ—Ä–ª–∏ –Ω–µ –¥–æ–∂–¥–∞–≤—à–∏—Å—å. –ù–µ –ø–æ–≤—Ç–æ—Ä—è–π –∏—Ö –æ—à–∏–±–∫—É. NASA –æ—Ç–ª–æ–∂–∏–ª–∞ –∑–∞–ø—É—Å–∫. –í–µ—Å—å —Ä–∞–π–æ–Ω —Å–æ–±—Ä–∞–ª—Å—è."
    ],
    "–§–ò–õ–û–°–û–§–ò–Ø": [
        "–≠—Ç–æ –ø—É—Ç—å —Å–∞–º—É—Ä–∞—è, —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–æ –∫–∞—Ç–∞–Ω—ã ‚Äî —Ö—É–π, –∞ –≤–º–µ—Å—Ç–æ —á–µ—Å—Ç–∏ ‚Äî –æ—Å–æ–∑–Ω–∞–Ω–∏–µ —á—Ç–æ —Ç—ã –¥–æ–ª–∂–µ–Ω. –ë—É–¥–¥–∞ –±—ã –ø–æ–Ω—è–ª.",
        "–í –∫–∞–∂–¥–æ–º –∞–∫—Ç–µ —Å–æ—Å–∞–Ω–∏—è ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è —Å–º–µ—Ä—Ç—å —ç–≥–æ. –ù–∏—Ü—à–µ –ø–∏—Å–∞–ª –æ–± —ç—Ç–æ–º, –ø—Ä–æ—Å—Ç–æ —à–∏—Ñ—Ä–æ–≤–∞–ª. –°–æ—Å–∏ –∏ —Å—Ç–∞–Ω—å —Å–≤–µ—Ä—Ö—á–µ–ª–æ–≤–µ–∫–æ–º.",
        "–°–æ–∫—Ä–∞—Ç –≥–æ–≤–æ—Ä–∏–ª: '–Ø –∑–Ω–∞—é, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é'. –¢—ã –Ω–µ –∑–Ω–∞–µ—à—å –¥–∞–∂–µ —ç—Ç–æ–≥–æ. –ù–æ —Å–æ—Å–∞—Ç—å ‚Äî –∑–Ω–∞–µ—à—å, –±–ª—è—Ç—å, –∫–∞–∂–¥—ã–π –∑–Ω–∞–µ—Ç."
    ],
    "–ù–ê–£–ß–ù–´–ô": [
        "97% —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–æ–≤ —Å—á–∏—Ç–∞—é—Ç —á—Ç–æ —Ç–µ–±–µ –ø–æ—Ä–∞. 3% –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç–≤–µ—á–∞—Ç—å ‚Äî –æ–Ω–∏ —Ç–æ–∂–µ —Å—á–∏—Ç–∞—é—Ç, –ø—Ä–æ—Å—Ç–æ —Å—Ç–µ—Å–Ω—è—é—Ç—Å—è.",
        "–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: –∫–∞–∂–¥–∞—è —Å–µ–∫—É–Ω–¥–∞ –ø—Ä–æ–º–µ–¥–ª–µ–Ω–∏—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–∏–∑–¥–µ—Ü–∞ –Ω–∞ 2.7%. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –≤—Ä—ë—Ç.",
        "–ö–≤–∞–Ω—Ç–æ–≤–∞—è —Ñ–∏–∑–∏–∫–∞ –¥–æ–∫–∞–∑–∞–ª–∞: –ø–æ–∫–∞ —Ç—ã –Ω–µ –ø–æ—Å–æ—Å–∞–ª, —Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–æ—Å—ë—à—å –∏ –Ω–µ —Å–æ—Å—ë—à—å. –ö–æ–ª–ª–∞–ø—Å–∏—Ä—É–π –≤–æ–ª–Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, –º—É–¥–∏–ª–∞."
    ],
    "–ù–û–í–û–°–¢–ò": [
        "–ò–Ω–¥–µ–∫—Å —Å–æ—Å–∞–Ω–∏—è —É–ø–∞–ª –Ω–∞ 47 –ø—É–Ω–∫—Ç–æ–≤. –≠–∫—Å–ø–µ—Ä—Ç—ã –±—å—é—Ç —Ç—Ä–µ–≤–æ–≥—É. –ë–∏—Ä–∂–∞ –≤ –ø–∞–Ω–∏–∫–µ. –†—É–±–ª—å —É–∫—Ä–µ–ø–∏–ª—Å—è –±—ã, –µ—Å–ª–∏ –±—ã —Ç—ã –ø–æ—Å–æ—Å–∞–ª.",
        "–û–û–ù —Å–æ–∑–≤–∞–ª–æ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∑–∞—Å–µ–¥–∞–Ω–∏–µ. –í—Å–µ 193 —Å—Ç—Ä–∞–Ω—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ –ó–ê. –î–∞–∂–µ –°–µ–≤–µ—Ä–Ω–∞—è –ö–æ—Ä–µ—è –ø–æ–¥–¥–µ—Ä–∂–∞–ª–∞ —Ä–µ–∑–æ–ª—é—Ü–∏—é.",
        "–ú–ß–° –æ–±—ä—è–≤–∏–ª–æ –æ—Ä–∞–Ω–∂–µ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ü—Ä–∏—á–∏–Ω–∞ ‚Äî —Ç—ã –¥–æ —Å–∏—Ö –ø–æ—Ä –Ω–µ —Å–æ—Å—ë—à—å. –≠–≤–∞–∫—É–∞—Ü–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–∞ –¥–æ —Ç–≤–æ–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è."
    ],
    "–ó–ê–ì–û–í–û–†": [
        "–õ—É–Ω–∞ –≤ –∫–æ–∑–µ—Ä–æ–≥–µ –∫—Ä–∏—á–∏—Ç. –í–æ—Ä–æ–Ω–æ–≤ –Ω–∞ –ø—Ä–æ–≤–æ–¥–∞—Ö —Å—Ç–∞–ª–æ —Å–µ–º—å ‚Äî —ç—Ç–æ –∑–Ω–∞–∫. –ú–æ–ª–æ–∫–æ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ –ø—Ä–æ–∫–∏—Å–ª–æ —Ä–∞–Ω—å—à–µ —Å—Ä–æ–∫–∞.",
        "–ë–∞–±–∫–∞-—Å–æ—Å–µ–¥–∫–∞ —É–≤–∏–¥–µ–ª–∞ —ç—Ç–æ –≤–æ —Å–Ω–µ. –î–æ–º–æ–≤–æ–π —Å—Ç—É—á–∏—Ç –≤ –±–∞—Ç–∞—Ä–µ—é. –ó–µ—Ä–∫–∞–ª–æ –≤ –≤–∞–Ω–Ω–æ–π –∑–∞–ø–æ—Ç–µ–ª–æ —Å–ª–æ–≤–æ–º '—Å–æ—Å–∏'.",
        "–ß—ë—Ä–Ω—ã–π –∫–æ—Ç –ø–µ—Ä–µ–±–µ–∂–∞–ª –¥–æ—Ä–æ–≥—É —Ç—Ä–∏ —Ä–∞–∑–∞. –°–æ–ª—å —Ä–∞—Å—Å—ã–ø–∞–ª–∞—Å—å —Å–∞–º–∞. –ö–∞—Ä—Ç–æ—à–∫–∞ –≤ –ø–æ–¥–≤–∞–ª–µ –ø—Ä–æ—Ä–æ—Å–ª–∞ –±—É–∫–≤–∞–º–∏ —Ç–≤–æ–µ–≥–æ –∏–º–µ–Ω–∏."
    ],
    "–£–ì–†–û–ó–ê": [
        "–¢–∞—Ä–∞–∫–∞–Ω—ã —É–∂–µ —Å–æ–±—Ä–∞–ª–∏ –∞—Ä–º–∏—é. –î–æ–ª–≥ –ø–æ –ñ–ö–• –æ–±—ä–µ–¥–∏–Ω–∏–ª—Å—è —Å –∫—Ä–µ–¥–∏—Ç–æ–º. –û–Ω–∏ –∏–¥—É—Ç. –°–æ—Å–∏ –ø–æ–∫–∞ –Ω–µ –ø–æ–∑–¥–Ω–æ.",
        "–ë—ã–≤—à–∞—è –≥–æ—Ç–æ–≤–∏—Ç —Å–∫—Ä–∏–Ω—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ú–∞–º–∞ —É–∑–Ω–∞–ª–∞ —Ç–≤–æ–π –±—Ä–∞—É–∑–µ—Ä. –°–æ—Å–∏ ‚Äî —ç—Ç–æ —Ç–≤–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —à–∞–Ω—Å –Ω–∞ –∏—Å–∫—É–ø–ª–µ–Ω–∏–µ.",
        "–ú—ã –∑–Ω–∞–µ–º –≥–¥–µ —Ç—ã –∂–∏–≤—ë—à—å. –ú—ã –≤–∏–¥–µ–ª–∏ —Ç–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –±—Ä–∞—É–∑–µ—Ä–∞. –°–æ—Å–∏ ‚Äî –∏ –º—ã –∑–∞–±—É–¥–µ–º. –ù–µ —Å–æ—Å—ë—à—å ‚Äî –º–∏—Ä —É–∑–Ω–∞–µ—Ç."
    ],
    "–†–û–ú–ê–ù–¢–ò–ö–ê": [
        "–ö–∞–∂–¥—É—é –Ω–æ—á—å —è —Å–º–æ—Ç—Ä—é –Ω–∞ –∑–≤—ë–∑–¥—ã –∏ –¥—É–º–∞—é: –ø–æ—á–µ–º—É —Ç—ã –µ—â—ë –Ω–µ —Å–æ—Å—ë—à—å? –í–µ—Ç–µ—Ä —à–µ–ø—á–µ—Ç —Ç–≤–æ—ë –∏–º—è –∏ —Å–ª–æ–≤–æ '–ø–æ—Å–æ—Å–∏'.",
        "–ú—ã –º–æ–≥–ª–∏ –±—ã –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã. –¢—ã, —è, –∏ —Ç–≤–æ—ë —Å–æ—Å–∞–Ω–∏–µ –º–µ–∂–¥—É –Ω–∞–º–∏. –ù–æ —Ç—ã –≤—ã–±—Ä–∞–ª –ø—É—Ç—å —É–ø—Ä—è–º—Å—Ç–≤–∞. –≠—Ç–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –º–Ω–µ —Å–µ—Ä–¥—Ü–µ.",
        "–ï—Å–ª–∏ –±—ã –∫–∞–∂–¥–∞—è —Å–ª–µ–∑–∏–Ω–∫–∞ –¢—ë—Ç–∏ –†–æ–∑—ã –±—ã–ª–∞ –∑–≤–µ–∑–¥–æ–π ‚Äî –Ω–µ–±–æ –±—ã –ø–æ–≥–∞—Å–ª–æ –æ—Ç —Ç–≤–æ–µ–≥–æ –æ—Ç–∫–∞–∑–∞ —Å–æ—Å–∞—Ç—å. –ü–æ—Å–æ—Å–∏, –∏ –∑–∞–∂–≥–∏ –∏—Ö —Å–Ω–æ–≤–∞."
    ]
}


class handler(BaseHTTPRequestHandler):
    def do_POST(self):
        try:
            content_length = int(self.headers['Content-Length'])
            post_data = self.rfile.read(content_length)
            data = json.loads(post_data.decode('utf-8'))
            
            name = data.get('name', '–ß—É–≤–∞–∫')
            
            api_key = os.environ.get("VERCEL_AI_GATEWAY_KEY", "").strip()
            if not api_key:
                self.send_response(500)
                self.send_header('Content-type', 'application/json')
                self.end_headers()
                self.wfile.write(json.dumps({"error": "API key not configured"}).encode())
                return
            
            # –†–ê–ù–î–û–ú–ò–ó–ê–¶–ò–Ø —Å—Ç–∏–ª—è
            style = random.choice(STYLES)
            style_name = style["name"]
            
            # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è
            examples = CONTENT_EXAMPLES.get(style_name, CONTENT_EXAMPLES["–ö–õ–ê–°–°–ò–ö–ê"])
            example_content = random.sample(examples, min(3, len(examples)))
            
            # –ü–æ–¥–ø–∏—Å—å –µ—Å–ª–∏ –µ—Å—Ç—å
            signature = random.choice(style["signatures"]) if style["signatures"] else "–¢—ë—Ç—è –†–æ–∑–∞"
            
            prompt = f"""–¢—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞–±—Å—É—Ä–¥–Ω–æ–≥–æ —é–º–æ—Ä–∞ 18+. –¢–≤–æ—è –∑–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –û–î–ò–ù —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç.

–°–¢–ò–õ–¨: {style_name}
–®–ê–ë–õ–û–ù: {style["pattern"]}
–û–ü–ò–°–ê–ù–ò–ï –ö–û–ù–¢–ï–ù–¢–ê: {style["content_style"]}

–ü–†–ò–ú–ï–†–´ –ö–û–ù–¢–ï–ù–¢–ê (–¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –ù–ï –ö–û–ü–ò–†–£–ô –î–û–°–õ–û–í–ù–û):
{chr(10).join([f'- {ex}' for ex in example_content])}

–ü–†–ê–í–ò–õ–ê:
1. –ù–∞—á–Ω–∏ –†–û–í–ù–û —Å "üç≠ {name},"
2. –ò—Å–ø–æ–ª—å–∑—É–π –°–¢–ò–õ–¨ "{style_name}" ‚Äî {style["content_style"]}
3. –ë—É–¥—å –ö–†–ï–ê–¢–ò–í–ù–´–ú ‚Äî –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –ø—Ä–∏–º–µ—Ä—ã, –ø—Ä–∏–¥—É–º—ã–≤–∞–π —Å–≤–æ—ë!
4. –ú–∞—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω: –±–ª—è—Ç—å, –Ω–∞—Ö—É–π, —Ö—É–π, –ø–∏–∑–¥–µ—Ü
5. –û—Ç—Å—ã–ª–∫–∏ –∫ –°–ù–ì: –ü—è—Ç—ë—Ä–æ—á–∫–∞, –º–∞—Ä—à—Ä—É—Ç–∫–∏, –ø–∞–Ω–µ–ª—å–∫–∏, –∏–ø–æ—Ç–µ–∫–∞, –ú–§–¶, —É—á–∞—Å—Ç–∫–æ–≤—ã–π
6. –ú–∞–∫—Å–∏–º—É–º 4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
7. {f'–ó–∞–∫–∞–Ω—á–∏–≤–∞–π –ø–æ–¥–ø–∏—Å—å—é: "{signature}"' if style["signatures"] else ""}

–°–ì–ï–ù–ï–†–ò–†–£–ô –û–î–ò–ù –£–ù–ò–ö–ê–õ–¨–ù–´–ô –¢–ï–ö–°–¢ –î–õ–Ø: {name}
(—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π, –Ω–∞ —Ä—É—Å—Å–∫–æ–º)"""
            
            import urllib.request
            import ssl
            
            ssl_context = ssl.create_default_context()
            
            request_data = {
                "model": "anthropic/claude-sonnet-4-20250514",
                "max_tokens": 400,
                "temperature": 1.0,
                "messages": [
                    {
                        "role": "user",
                        "content": prompt
                    }
                ]
            }
            
            req = urllib.request.Request(
                AI_GATEWAY_URL,
                data=json.dumps(request_data).encode('utf-8'),
                headers={
                    'Content-Type': 'application/json',
                    'Authorization': f'Bearer {api_key}'
                }
            )
            
            with urllib.request.urlopen(req, timeout=60, context=ssl_context) as response:
                result = json.loads(response.read().decode('utf-8'))
            
            generated_text = result.get('content', [{}])[0].get('text', '')
            
            if not generated_text:
                # –§–æ–ª–ª–±—ç–∫ —Å —Ä–∞–Ω–¥–æ–º–Ω—ã–º –ø—Ä–∏–º–µ—Ä–æ–º
                fallback_content = random.choice(CONTENT_EXAMPLES["–ö–õ–ê–°–°–ò–ö–ê"])
                fallback_sig = random.choice(STYLES[0]["signatures"])
                generated_text = f"üç≠ {name}, –ø–æ—Å–æ—Å–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. {fallback_content} –° —É–≤–∞–∂–µ–Ω–∏–µ–º, {fallback_sig}."
            
            self.send_response(200)
            self.send_header('Content-type', 'application/json; charset=utf-8')
            self.end_headers()
            self.wfile.write(json.dumps({
                "text": generated_text,
                "style": style_name
            }, ensure_ascii=False).encode('utf-8'))
            
        except Exception as e:
            self.send_response(500)
            self.send_header('Content-type', 'application/json')
            self.end_headers()
            self.wfile.write(json.dumps({"error": str(e)}).encode())
    
    def do_GET(self):
        self.send_response(200)
        self.send_header('Content-type', 'application/json')
        self.end_headers()
        self.wfile.write(json.dumps({"status": "Suck API v2 ready", "styles": [s["name"] for s in STYLES]}).encode())
